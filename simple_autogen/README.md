# 简约版AutoGen系统

# 简约版AutoGen金融分析系统

这是一个专注于突出**AutoGen多智能体协作核心价值**的金融分析系统。通过模拟专业分析师团队协作的方式，展示AutoGen框架如何通过多个不同专业角色的智能体共同完成复杂的金融分析任务。

## 🎯 系统特点

- **突出AutoGen核心价值**：清晰展示多智能体协作的工作流程和优势
- **专业角色分工**：实现数据分析师、财务分析师、风险分析师和投资顾问等专业智能体角色
- **智能体协作流程**：模拟真实团队协作，智能体之间有序传递信息并深化分析
- **易于理解**：代码结构清晰，注释详细，便于学习AutoGen的核心概念
- **快速上手**：依赖少，配置简单，便于快速体验AutoGen的强大功能

## 🤖 AutoGen智能体团队介绍

系统中包含以下专业智能体，它们共同协作完成完整的股票分析流程：

1. **数据分析师**：负责分析原始数据，提取关键财务指标和市场信号
2. **财务分析师**：基于数据分析师的发现，进行深入的财务分析和评估
3. **风险分析师**：评估投资风险，解读风险指标，分析潜在风险因素
4. **投资顾问**：整合所有分析结果，提供综合投资建议和决策支持
5. **用户代理**：协调和管理智能体团队，确保分析流程顺利进行

## 📁 文件结构

```
simple_autogen/
├── main.py              # 命令行接口入口
├── simple_autogen_system.py  # 核心系统实现（包含智能体定义和协作逻辑）
├── requirements.txt     # 依赖包列表
├── README.md            # 使用说明文档
└── example_usage.py     # 完整使用示例
```

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置API密钥

系统需要OpenAI的API密钥来使用AutoGen功能：

```bash
# 设置环境变量
export OPENAI_API_KEY=your_api_key_here

# 或者在代码中直接设置（不推荐用于生产环境）
# api_key = "your_api_key_here"
```

### 3. 基本使用 - 命令行方式

```bash
python main.py analyze AAPL --api-key your_api_key_here

# 保存报告到文件
python main.py analyze AAPL --api-key your_api_key_here --output aapl_report.txt
```

### 4. 程序方式使用

```python
from simple_autogen_system import SimpleAutoGenSystem

# 创建分析系统
system = SimpleAutoGenSystem(openai_api_key="your_api_key_here")

# 分析股票 - 触发AutoGen多智能体协作
result = system.analyze_stock("AAPL")  # 分析苹果公司

# 查看各智能体的分析结果
print("\n--- 数据分析师分析结果 ---")
print(result['data_analysis'])

print("\n--- 财务分析师分析结果 ---")
print(result['financial_analysis'])

print("\n--- 风险分析师分析结果 ---")
print(result['risk_analysis'])

print("\n--- 投资顾问最终建议 ---")
print(result['investment_advice'])
```

## 🧠 AutoGen核心概念深度解析

本系统重点展示了以下AutoGen核心概念：

### 1. 多智能体协作
AutoGen的核心优势在于能够通过多个具有不同专业知识和技能的智能体协作完成复杂任务。在本系统中，四个专业智能体各自负责分析流程中的不同环节，共同形成完整的分析结果。

### 2. 智能体角色定义
通过精心设计的系统消息（system message），为每个智能体赋予明确的专业角色和职责，使它们能够在各自的专业领域提供高质量的分析。

### 3. 顺序协作流程
系统实现了一个有序的协作流程：数据分析师首先处理原始数据，然后财务分析师和风险分析师基于这些发现进行深入分析，最后投资顾问整合所有结果提供最终建议。

### 4. 信息传递机制
智能体之间通过消息传递机制共享分析结果，使每个后续智能体能够基于前面的分析继续深化工作，形成知识积累和深化的效果。

## 📊 系统功能详解

### 1. 数据收集模块
- 从Yahoo Finance获取股票历史价格数据
- 收集公司财务报表和基本信息
- 整理和结构化数据以供智能体分析

### 2. 智能体工厂模式
- 使用工厂模式创建和配置各类专业智能体
- 统一管理智能体的LLM配置和系统消息
- 便于扩展和维护不同类型的智能体

### 3. 智能体编排器
- 负责组织和协调智能体协作流程
- 管理智能体之间的信息传递
- 收集和整合各智能体的分析结果

### 4. 结果整合与展示
- 整合所有智能体的分析结果
- 提供结构化的输出格式
- 支持保存完整分析报告到文件

## 💡 AutoGen多智能体协作优势

通过本系统，您可以体验到AutoGen多智能体协作的以下核心优势：

1. **专业分工，优势互补**：不同专业背景的智能体各司其职，共同完成复杂任务
2. **知识深化，层层递进**：分析结果在智能体间传递和深化，形成更全面的见解
3. **降低复杂性**：将复杂任务分解为多个简单任务，由不同智能体分别完成
4. **提高可靠性**：多个智能体从不同角度分析问题，降低单一视角的局限性
5. **流程自动化**：一旦定义好协作流程，系统可以自动完成端到端的分析任务

## 🔧 扩展建议

如果你想进一步扩展这个系统，可以考虑：

- 添加更多专业智能体角色（如行业分析师、估值专家等）
- 实现更复杂的智能体协作模式（如并行协作、循环协作等）
- 增加数据可视化功能，直观展示分析结果
- 集成更多数据源和分析工具
- 实现智能体的动态调整和学习功能

---
通过这个简约版系统，希望你能深入理解AutoGen多智能体协作的核心价值和工作原理！